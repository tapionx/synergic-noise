<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=1000, user-scalable=no">
    <title>Synergic Noise - Player</title>
    <link href='font.css' rel="stylesheet">
    <style>
	html, body {
	    height: 100%;
	}
	body {
            text-align: center;
            font-family: sans-serif;
	    background: url(img/background.jpg) no-repeat center center fixed; 
	    background-size: cover;
	}
	h2 {
	   font-size: 100px;
	   font-family: 'Oswald', sans-serif;
	   margin: 10px;
	}
        h3 {
            font-size: 60px;
	    margin: 5px;
	    font-family: 'Oswald', sans-serif;
        }
	ul {
	   display: inline-block;
	   text-align: left;
	}
	li {
	    font-size: 35px;
	    margin: 10px;
	}
	a {
	    font-weight: normal;
	}
        #currentSound {
            margin-top: 20px;
            color: blue;
        }
    </style>
</head>
<body>
    <script src="/socket.io/socket.io.js"></script>
    <script src="soundjs-0.5.2.min.js"/></script>
    <script src="jquery-1.11.0.min.js"></script>
    <script>

        var socket = io(window.location.host+'/players');
        socket.emit('player',{});
        socket.on('sound', function (data) {
            console.log(data);
            play(data.sound);
        });

        var audioPath = "sounds/";
        var manifest = [
            // DRUM
            {id:"beat", src:"drum/beat.wav"},
            {id:"clap", src:"drum/clap.wav"},
            {id:"clhat", src:"drum/clhat.wav"},
            {id:"click", src:"drum/click.wav"},
            {id:"drum", src:"drum/drum.wav"},
            {id:"ludwig", src:"drum/ludwig.wav"},
            {id:"piccolo", src:"drum/piccolo.wav"},
            {id:"tom", src:"drum/tom.wav"},
            {id:"tom2", src:"drum/tom2.wav"},
            // PIANO
            {id:"1-c1", src:"piano/1-c1.wav"},
            {id:"2-c1s", src:"piano/2-c1s.wav"},
            {id:"3-d1", src:"piano/3-d1.wav"},
            {id:"4-d1s", src:"piano/4-d1s.wav"},
            {id:"5-e1", src:"piano/5-e1.wav"},
            {id:"6-f1", src:"piano/6-f1.wav"},
            {id:"7-f1s", src:"piano/7-f1s.wav"},
            {id:"8-g1", src:"piano/8-g1.wav"},
            {id:"9-g1s", src:"piano/9-g1s.wav"},
            {id:"10-a1", src:"piano/10-a1.wav"},
            {id:"11-a1s", src:"piano/11-a1s.wav"},
            {id:"12-b1", src:"piano/12-b1.wav"},
            {id:"13-c2", src:"piano/13-c2.wav"},
            // XYLO
            {id:"a1x", src:"xylophone/A0.wav"},
            {id:"c1x", src:"xylophone/C0.wav"},
            {id:"d1x", src:"xylophone/D0.wav"},
            {id:"e1x", src:"xylophone/E0.wav"},
            {id:"g1x", src:"xylophone/G0.wav"},
            {id:"a2x", src:"xylophone/A.wav"},
            {id:"c2x", src:"xylophone/C.wav"},
            {id:"d2x", src:"xylophone/D.wav"},
            {id:"e2x", src:"xylophone/E.wav"},
            {id:"g2x", src:"xylophone/G.wav"},
            {id:"a3x", src:"xylophone/A1.wav"},
            {id:"c3x", src:"xylophone/C1.wav"},
            {id:"d3x", src:"xylophone/D1.wav"},
            {id:"e3x", src:"xylophone/E1.wav"},
            {id:"g3x", src:"xylophone/G1.wav"},
            // MALLET
            {id:"ma1x", src:"mallet/A0.wav"},
            {id:"mc1x", src:"mallet/C0.wav"},
            {id:"md1x", src:"mallet/D0.wav"},
            {id:"me1x", src:"mallet/E0.wav"},
            {id:"mg1x", src:"mallet/G0.wav"},
            {id:"ma2x", src:"mallet/A.wav"},
            {id:"mc2x", src:"mallet/C.wav"},
            {id:"md2x", src:"mallet/D.wav"},
            {id:"me2x", src:"mallet/E.wav"},
            {id:"mg2x", src:"mallet/G.wav"},
            {id:"ma3x", src:"mallet/A1.wav"},
            {id:"mc3x", src:"mallet/C1.wav"},
            {id:"md3x", src:"mallet/D1.wav"},
            {id:"me3x", src:"mallet/E1.wav"},
            {id:"mg3x", src:"mallet/G1.wav"},
        ];
                         
        createjs.Sound.alternateExtensions = ["mp3"];
        createjs.Sound.registerManifest(manifest, audioPath);

        function play(sound) {
            $('#currentSound').text(sound);
            createjs.Sound.play(sound);
        }

    </script>
    <h2>SYNERGIC NOISE !</h2>
    <h3>Unisciti al concerto e suona insieme a noi!</h3>
    <ul>
	<li>Prendi il tuo smartphone</li>
	<li>Collegati alla rete Wi-Fi <strong>'SYNERGIC NOISE'</strong></li>
	<li>Apri il browser su <a href="http://192.168.82.101:8080/">http://192.168.82.101:8080/</a></li>
	<li>Scegli lo strumento e suona!</li>
    </ul>
    <h3 id="currentSound"></h3>
    <h3>Forkami su GitHub <img src="img/github_icon.png" height="50"><br><a href="https://github.com/tapione/synergic-noise/">https://github.com/tapione/synergic-noise/</a></h3>
</body>
</html>
